/* @import "./reset.css"; */

*{
   margin:0;
   padding:0;
   box-sizing: border-box;
}
body{
    background-color: black;
    color:white;
 }

 #main{
    text-align: center;
 }
 .site-title{
    color: white;
    text-transform: uppercase;
    display:inline-block;          
    text-align:center;
    border: 2px solid white;
    padding: 5px 20px 5px 20px;
    margin-top:20px;
    
 }
 #search{
    display:block;
    width:90%;
    margin: 30px 0px 30px 60px;
    padding: 15px;
    border-radius: 15px;
    background-color: black;
    color: white;
    font-size: 20px;
 }

 #news-articles {
   display: grid;
   grid-template-columns: 1fr 1fr 1fr 1fr;
   grid-column-gap: 20px;
   grid-row-gap: 20px;
   margin: 20px;
   
}

.not-founded{
   font-size:30px;
   color:white;
   width:100%;
   margin-left:30%;
   list-style:none;
}
.not-found{
   visibility: hidden;
}

 .card{
   box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
   transition: 0.3s;
   border-radius: 10px;
   border: 1px solid black;
   height: 100%;
   background-color: #23282e;
   overflow: hidden;
   color:white;
   
}


.card:hover {
   transform: scale(0.95);
}

.container {
   padding: 2px 16px;
}
.article-link{
   text-decoration: none;
}
.article-img{  
   width:100%;
   margin-bottom:20px;
}
.article-author{
   float: right;
   color:#00d4ff;
   font-family: Arial, Helvetica, sans-serif;

}
.article-title{
   color:white;
}
.article-description{
   color:white;
   font-size:20px;
   list-style:none;
}

.article{
   list-style: none;
   visibility: hidden;
}

.articles{
   list-style: none;
}
#loader {
   position:fixed;
   margin-left: 45%;
   border: 16px solid #f3f3f3; 
   border-top: 16px solid #3498db; 
   border-radius: 50%;
   width: 120px;
   height: 120px;
   animation: spin 2s linear infinite;
 }
 li.article{
    list-style:none;
 }
 @keyframes spin {
   0% { transform: rotate(0deg); }
   100% { transform: rotate(360deg); }
 }

 @media screen and (max-width: 600px) {
  #news-articles {
    width: 100%;
    display: block;
    
  }
}
@media screen and (max-width: 600px) {
   .card{
      margin-bottom: 20px;
   }
}

@media screen and (max-width: 600px) {
#search{
    width: 100%;
    margin-left:20px;
}
}


<ul id="news-articles">
       <li class="article"> 
          <h2 class="article-title"></h2>
          <img class="article-img"></img>
         <p class="article-description"></p>
         <span class="article-author"></span>
      </li>
       <li class="article">2</li>
       <li class="article">3</li>
       <li class="article">4</li>
      <li class="article">5</li>
      <li class="article">6</li>
       <li class="article">7</li>
      <li class="article">8</li>
    <li class="article">9</li>
    <li class="article">10</li>
    <li class="article">11</li>
    <li class="article">12</li>
    <li class="article">13</li>
    <li class="article">14</li>
    <li class="article">15</li>
    <li class="article">16</li>
    <li class="article">17</li>
    <li class="article">18</li>
    <li class="article">19</li> 
    <li class="article">20</li>
  </ul>
  <h2 class="article-title"></h2>
  <img class="article-img"></img>
  <p class="article-description"></p>
  <span class="article-author"></span>
  <p class="not-found">No article was found based on the search.</p>

  let  apikey = "4ee7c47caecc4efa99bbea5a086496a5";
let input = document.getElementById('search');
let data = '';
input.addEventListener('keypress', validSearch);
async function validSearch(event) {
  if(event.which === 13 || event.keyCode === 13 ||event.key === "Enter")
  {
    data = document.getElementById('search').value;
    //data = event.target.value;
  }
  content.innerHTML=`<div id="loader" ></div>`;
    if (data !== "" ) {

        url = `https://newsapi.org/v2/everything?q=${data}&apiKey=${apikey}`;//searched News will display after enter
    }
    else {
        url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=${apikey}`;
    }
    const response = await fetch(url);
    const result = await response.json();
    getNews(result);
}
let content = document.getElementById('news-articles');
function getNews(news){
      let output="";
      if(news.totalResults>0){
        news.articles.forEach(article=>{
          output+= 
            ` <section class="card">
              <li class="article"><a class="article-link" href="${article.url}" target="_blank">       
              <img src="${article.urlToImage}" class="article-img" alt="${article.title}"></img>
              <div class="container">
              <h2 class="article-title">${article.title}</h2><br>
              <p class="article-description">${article.description || "Description not available"}</p> <br>
              <span class="article-author">-${article.author? article.author: "Anon"}</span><br>
              </a>
              </div>
              </li>
              </section>
             `;
           
        });
        content.innerHTML=output;
      }
      else
        { 
           content.innerHTML='<li class="not-founded">No article was found based on the search.</li>';
       }
    }


 async function getPosts(){
    content.innerHTML=`<div id="loader"></div>`
    url = `https://newsapi.org/v2/top-headlines?country=in&apiKey=${apikey}`;
    const response = await fetch(url);
    const result = await response.json();
    console.log(result);
    getNews(result);
 }
window.open=getPosts();
